{"version":3,"sources":["utils/validators/validators.ts","components/Profile/ProfileInfo/ProfileInfo.module.css","app.module.css","components/common/Paginator/Paginator.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Login/Login.module.css","components/hoc/withAuthRedirect.tsx","redux/dialogs-reducer.ts","components/common/Preloader/Preloader.module.css","components/Profile/Profile.module.css","api/api.ts","reportWebVitals.js","components/Settings/Settings.tsx","components/Music/Music.tsx","components/News/News.tsx","components/common/Paginator/Paginator.tsx","redux/users-selectors.ts","api/usersAPI.ts","redux/users-reducer.ts","components/Users/User.tsx","components/Users/UsersSearchForm.tsx","components/Users/Users.tsx","assets/images/preloader.gif","components/common/Preloader/Preloader.tsx","components/Users/UsersContainer.tsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","components/Profile/ProfileInfo/ProfileDataForm.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","api/profileAPI.ts","redux/profile-reducer.ts","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/AddPostForm/AddPostForm.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","api/authAPI.ts","api/securityAPI.ts","redux/auth-reducer.ts","components/Login/LoginPage.tsx","redux/app-reducer.ts","redux/sidebar-reducer.ts","redux/redux-store.ts","redux/auth-selectors.ts","components/Header/Header.tsx","App.tsx","index.tsx","components/Users/users.module.css","components/common/FormsControls/FormsControls.tsx","components/common/FormsControls/FormsControls.module.css"],"names":["required","value","maxLengthCreator","maxLength","length","module","exports","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","WrappedComponent","connect","props","restProps","to","initialState","dialogs","id","name","img","messages","message","newMessageText","actions","sendMessage","newMessage","type","text","dialogsReducer","action","ResultCodesEnum","ResultCodeForCaptchaEnum","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Settings","Music","News","arr","mapByThree","map","el","spacer","Paginator","totalItemsCount","pageSize","currentPage","changePage","x","portionSize","numberOfPages","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","styles","pagination","onClick","filter","p","active","undefined","getUsersSuperSelector","createSelector","usersPage","users","u","getPageSize","getFilter","getTotalUsersCount","totalCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","followingInProgress","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","term","friend","get","res","data","follow","userId","post","unfollow","delete","payload","preloaderToggle","dispatch","a","items","_followUnfollowFlow","apiMethod","actionCreator","resultCode","usersReducer","followed","Text","Typography","gap","marginTop","User","user","useDispatch","useSelector","shape","size","src","photos","small","icon","UserOutlined","bntPos","danger","UserDeleteOutlined","title","disabled","some","bind","UserAddOutlined","style","strong","UsersSearchForm","React","memo","enableReinitialize","initialValues","String","validate","onSubmit","values","setSubmitting","onFilterChanged","isSubmitting","searchForm","searchFormInput","placeholder","searchFormSelect","Users","history","useHistory","useEffect","parsed","queryString","location","search","substring","actualPage","actualFilter","page","Number","query","pathname","usersContainer","usersList","Preloader","preloader","alt","UsersPage","compose","ProfileStatusWithHooks","editMode","setEditMode","status","setStatus","autoFocus","onChange","e","currentTarget","onBlur","updateProfileStatus","ProfileDataFormReduxForm","reduxForm","form","handleSubmit","profileData","error","formSummaryError","Field","component","Input","Textarea","Object","keys","contacts","key","s","socialNetContact","ProfileData","isOwner","aboutMe","lookingForAJob","lookingForAJobDescription","socialNetName","socialNetValue","SocialNetContact","ProfileInfo","uploadPhoto","saveProfile","xs","sm","md","large","target","files","fullName","descriptionBlock","formData","profileAPI","newStatus","put","photoFile","FormData","append","posts","likesCounter","profileStatus","addPost","postText","setProfileData","setProfileStatus","savePhotoSuccess","updateLikesCounter","operator","getProfileData","profileReducer","newPost","Post","likes","setLikes","setAction","createElement","LikeFilled","LikeOutlined","author","avatar","content","datetime","moment","format","fromNow","AddPostForm","lg","xl","newPostText","resetForm","render","Item","TextArea","showCount","htmlType","MyPosts","postsElements","postsBlock","MyPostMemorized","MyPostsContainer","profilePage","Profile","profile","orientation","ProfileContainer","this","match","params","getProfileStatus","refreshProfile","prevProps","prevState","Component","console","file","getState","Error","stopSubmit","_error","Promise","reject","withRouter","authAPI","email","password","rememberMe","captcha","securityAPI","login","captchaUrl","authMe","meData","Success","getCaptchaUrl","url","authReducer","LoginReduxForm","width","LoginPage","justify","loginBlock","CaptchaIsRequired","initialized","appReducer","sidebarReducer","rootReducer","combineReducers","dialogsPage","sidebar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleWare","selectIsAuth","selectLogin","Header","Layout","padding","display","justifyContent","LogoutOutlined","LoginOutlined","Content","Footer","Sider","DialogsContainer","lazy","GeneralChatPage","App","catchAllUnhandledErrors","initializeApp","addEventListener","removeEventListener","breakpoint","collapsedWidth","onBreakpoint","broken","log","onCollapse","collapsed","marginLeft","marginBottom","preview","height","theme","mode","defaultSelectedKeys","MessageOutlined","TeamOutlined","CommentOutlined","FireOutlined","SoundOutlined","SettingOutlined","exact","from","path","fallback","footer","ContainerApp","promise","all","MainApp","StrictMode","ReactDOM","document","getElementById","input","meta","hasError","touched","formControl"],"mappings":"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","file":"static/js/main.d05d49a4.chunk.js","sourcesContent":["export type FieldValidatorType = (input: string) => string | undefined\n\nexport const required: FieldValidatorType = value => {\n    if (value) {\n        return undefined\n    } else {\n        return \"Field is required\"\n    }\n}\n\nexport const maxLengthCreator  = (maxLength: number): FieldValidatorType => (value) => {\n    if (value.length > maxLength) {\n        return `Max length is ${maxLength} symbols`\n    } else {\n        return undefined\n    }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3cd8Y\",\"profileData\":\"ProfileInfo_profileData__18agI\",\"socialNetContact\":\"ProfileInfo_socialNetContact__2DGo7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"app_content__ckDFI\",\"footer\":\"app_footer__3qb7a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Paginator_pagination__1asUZ\",\"active\":\"Paginator_active__3mj3D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2ifKf\",\"posts\":\"MyPosts_posts__3tZ1c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"captcha\":\"Login_captcha__30gIQ\",\"loginBlock\":\"Login_loginBlock__F6WMc\"};","import React from 'react'\nimport {Redirect} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\nimport {AppStateType} from \"../../redux/redux-store\";\n\nconst mapStateToPropsForRedirect = (state: AppStateType) => {\n    return {\n        isAuth: state.auth.isAuth\n    }\n\n}\n\ntype MapPropsType = {\n    isAuth: boolean\n}\n\ntype DispatchPropsType = {\n}\n\nexport function withAuthRedirect<WCP> (WrappedComponent: React.ComponentType<WCP>) {\n\n    const RedirectComponent: React.FC<MapPropsType & DispatchPropsType> = (props) => {\n        let {isAuth, ...restProps} = props\n\n        if (!props.isAuth) return <Redirect to={'/login'}/>\n        return <WrappedComponent {...restProps as unknown as WCP} />\n    }\n\n    let ConnectedRedirectComponent = connect<MapPropsType, DispatchPropsType, WCP, AppStateType>(\n        mapStateToPropsForRedirect, {})\n    (RedirectComponent)\n\n    return ConnectedRedirectComponent\n}","import {DialogType, MessagesType} from \"../types/types\";\nimport {InferActionsTypes} from \"./redux-store\";\n\nlet initialState = {\n    dialogs: [\n        {id: 1, name: 'Nikita', img: 'https://www.pngkey.com/png/full/114-1149878_setting-user-avatar-in-specific-size-without-breaking.png'},\n        {id: 2, name: 'Chibis', img: 'https://xgh.dreaditkarein.pw/img/e69386580326bbf232c4223635ac3be0.png'},\n        {id: 3, name: 'Solonin', img: 'https://xgh.dreaditkarein.pw/img/e69386580326bbf232c4223635ac3be0.png'},\n        {id: 4, name: 'Chipinkos', img: 'https://xgh.dreaditkarein.pw/img/e69386580326bbf232c4223635ac3be0.png'},\n        {id: 5, name: 'Zelemhan', img: 'https://xgh.dreaditkarein.pw/img/e69386580326bbf232c4223635ac3be0.png'},\n    ] as Array<DialogType>,\n    messages: [\n        {id: 1, message: 'Hello World!'},\n        {id: 2, message: 'Gm Sir!'},\n        {id: 1, message: 'How are you??!!'},\n        {id: 2, message: 'Awesome!'},\n        {id: 2, message: 'And You??!'},\n    ] as Array<MessagesType>,\n    newMessageText: \"\"\n}\n\nconst dialogsReducer = (state = initialState, action: ActionsType): initialStateType => {\n    switch (action.type) {\n        case 'dialogs/SEND-MESSAGE':\n            return {\n                ...state,\n                messages: [...state.messages, {id: 2, message: action.text}],\n                newMessageText: \"\"\n            }\n        default:\n            return state\n    }\n}\n\nexport const actions = {\n    sendMessage: (newMessage: string) => ({type: 'dialogs/SEND-MESSAGE', text: newMessage} as const)\n}\n\nexport default dialogsReducer\nexport type initialStateType = typeof initialState\ntype ActionsType = InferActionsTypes<typeof actions>\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2dvkO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__3dzvr\"};","import axios from \"axios\"\nimport {UserType} from \"../types/types\"\n\nexport const instance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {\n        'API-KEY': '4e136dca-4dec-4506-a5ef-61efe2ea4b48',\n    }\n})\n\nexport enum ResultCodesEnum {\n    Success = 0,\n    Error = 1,\n}\n\nexport enum ResultCodeForCaptchaEnum {\n    CaptchaIsRequired = 10\n}\n\nexport type APIResponseType<D = {}, RC = ResultCodesEnum> = {\n    data: D,\n    messages: Array<string>,\n    resultCode: RC\n}\n\nexport type GetItemsType = {\n    items: Array<UserType>,\n    totalCount: number,\n    error: string | null\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","type PropsType = {\n\n}\n\nconst Settings: React.FC<PropsType> = (props) => {\n    return (\n        <div>\n            Settings\n        </div>\n    );\n}\n\nexport default Settings;","type PropsType = {\n\n}\n\nconst Music: React.FC<PropsType> = (props) => {\n    return (\n        <div>\n            Music\n        </div>\n    );\n}\n\nexport default Music;","import s from \"./News.module.css\"\n\ntype PropsType = {\n\n}\n\nconst News: React.FC<PropsType> = (props) => {\n\n    let arr = [2,3,4,5]\n\n    let mapByThree = (arr: Array<number>) =>{\n        let mappedArr = arr.map( (el) => el*3)\n        return mappedArr\n    }\n\n    let spacer = (arr: Array<number>) => {\n        let newArr = arr.map((el) => {\n            let spacedEl = el + \" \"\n            return spacedEl\n        })\n        return newArr\n    }\n    mapByThree(arr)\n\n    return (\n        <div>\n            <h3>News</h3>\n            Old array: {spacer(arr)}\n            <br/>\n            New array *3: {spacer(mapByThree(arr))}\n        </div>\n    );\n}\n\nexport default News;","import React, {useState} from 'react'\nimport styles from './Paginator.module.css'\n\ntype propsType = {\n    totalItemsCount: number,\n    pageSize: number,\n    currentPage?: number,\n    changePage?: (pageNumber: number) => void,\n    portionSize?: number\n}\n\nlet Paginator: React.FC<propsType> = ({totalItemsCount,\n                                          pageSize,\n                                          currentPage = 1,\n                                          changePage = x => x,\n                                          portionSize = 10}) => {\n\n    let numberOfPages = Math.ceil(totalItemsCount / pageSize)\n    let pages: Array<number> = []\n\n    for (let i = 1; i <= numberOfPages; i++) {\n        pages.push(i)\n    }\n\n    let portionCount = Math.ceil(numberOfPages / portionSize)\n    let [portionNumber, setPortionNumber] = useState(1)\n    let leftPortionPageNumber = (portionNumber -1) * portionSize + 1\n    let rightPortionPageNumber = portionNumber * portionSize\n\n    return (\n        <div className={styles.pagination}>\n            { portionNumber>1 &&\n            <button onClick={() => {setPortionNumber(portionNumber - 1)}}>left</button>}\n            {\n                pages\n                    .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n                    .map((p) => {\n                    return (\n                        <span key={p}\n                              className={currentPage === p ? styles.active : undefined}\n                              onClick={() => changePage(p)}>{p}</span>\n                    );\n                })}\n            {portionCount > portionNumber &&\n            <button onClick={() => {setPortionNumber(portionNumber + 1)}}>right</button>}\n\n        </div>\n    )\n}\nexport default Paginator","import {createSelector} from \"reselect\";\nimport {AppStateType} from \"./redux-store\";\n\nconst getUsersList = (state: AppStateType) => {\n    return state.usersPage.users\n}\n\nexport const getUsersSuperSelector = createSelector(getUsersList,\n    (users) => {\n    return users.filter( u => true)})\n\nexport const getPageSize = (state: AppStateType) => {\n    return state.usersPage.pageSize\n}\n\nexport const getFilter = (state: AppStateType) => {\n    return state.usersPage.filter\n}\n\nexport const getTotalUsersCount = (state: AppStateType) => {\n    return state.usersPage.totalCount\n}\n\nexport const getCurrentPage = (state: AppStateType) => {\n    return state.usersPage.currentPage\n}\n\nexport const getIsFetching = (state: AppStateType) => {\n    return state.usersPage.isFetching\n}\n\nexport const getFollowingInProgress = (state: AppStateType) => {\n    return state.usersPage.followingInProgress\n}","import {GetItemsType, instance, APIResponseType} from \"./api\"\n\nexport const usersAPI = {\n    getUsers: (currentPage = 1, pageSize = 5, term = '', friend: null | boolean = null) => {\n        return instance.get<GetItemsType>(`users?page=${currentPage}&count=${pageSize}&term=${term}` + (friend === null ? \"\" : '&friend=' + friend))\n            .then(res => res.data)\n    },\n    follow: (userId: number) => {\n        return instance.post<APIResponseType>(`follow/${userId}`)\n            .then(res => res.data)\n    },\n    unfollow: (userId: number) => {\n        return instance.delete<APIResponseType>(`follow/${userId}`)\n            .then(res => res.data)\n    }\n}","import {UserType} from \"../types/types\";\nimport {BaseThunkType, InferActionsTypes} from \"./redux-store\";\nimport {Dispatch} from \"redux\";\nimport {usersAPI} from \"../api/usersAPI\";\nimport {APIResponseType} from \"../api/api\";\n\nlet initialState = {\n    users: [] as Array<UserType>,\n    currentPage: 1,\n    pageSize: 16,\n    totalCount: 0,\n    isFetching: false,\n    followingInProgress: [] as Array<number>, // array of users ids\n    filter: {\n        term: '',\n        friend: null as null | boolean\n    },\n}\n\nexport const usersReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\n    switch (action.type) {\n        case \"users/FOLLOW\":\n            return {\n                ...state,\n                users: state.users.map(u => {\n                    if (u.id === action.userId) {\n                        return {...u, followed: true}\n                    }\n                    return u\n                })\n            }\n        case \"users/UNFOLLOW\":\n            return {\n                ...state,\n                users: state.users.map(u => {\n                    if (u.id === action.userId) {\n                        return {...u, followed: false}\n                    }\n                    return u\n                })\n            }\n        case \"users/SET_USERS\":\n            return {\n                ...state, users: action.users\n            }\n        case \"users/SET_TOTAL\":\n            return {\n                ...state, totalCount: action.totalCount\n            }\n        case \"users/SET_CURRENT_PAGE\":\n            return {\n                ...state, currentPage: action.currentPage\n            }\n        case \"users/SET_FILTER\":\n            return {\n                ...state, filter: action.payload\n            }\n        case \"users/SHOW_PRELOADER\":\n            return {\n                ...state, isFetching: action.preloaderToggle\n            }\n        case \"users/TOGGLE_FOLLOWING_IN_PROGRESS\":\n            return {\n                ...state,\n                followingInProgress: action.isFetching\n                    ? [...state.followingInProgress, action.userId]\n                    : state.followingInProgress.filter((id) => id != action.userId)\n            }\n        default:\n            return state\n    }\n}\n\nexport const actions = {\n    followSuccess: (userId: number) => ({type: \"users/FOLLOW\", userId} as const),\n    unfollowSuccess: (userId: number) => ({type: \"users/UNFOLLOW\", userId} as const),\n    setUsers: (users: Array<UserType>) => ({type: \"users/SET_USERS\", users} as const),\n    setTotal: (totalCount: number) => ({type: \"users/SET_TOTAL\", totalCount} as const),\n    setCurrentPage: (currentPage: number) => ({\n        type: \"users/SET_CURRENT_PAGE\",\n        currentPage: currentPage\n    }) as const,\n    setFilter: (filter: FilterType) => ({type: \"users/SET_FILTER\", payload: {...filter}}) as const,\n    showPreloader: (preloaderToggle: boolean) => ({\n        type: \"users/SHOW_PRELOADER\",\n        preloaderToggle\n    } as const),\n    toggleFollowingInProgress: (isFetching: boolean, userId: number) => ({\n        type: \"users/TOGGLE_FOLLOWING_IN_PROGRESS\",\n        isFetching,\n        userId\n    } as const)\n}\n\nexport const getUsers = (currentPage: number, pageSize: number, filter: FilterType):ThunkType => {\n    return async (dispatch) => {\n        dispatch(actions.showPreloader(true))\n        dispatch(actions.setCurrentPage(currentPage))\n        dispatch(actions.setFilter(filter))\n        let data = await usersAPI.getUsers(currentPage, pageSize, filter.term, filter.friend)\n\n        dispatch(actions.showPreloader(false))\n        dispatch(actions.setUsers(data.items))\n        dispatch(actions.setTotal(data.totalCount))\n    };\n}\n\nconst _followUnfollowFlow = async (dispatch: Dispatch<ActionsTypes>,\n                                   userId: number,\n                                   apiMethod: (userId: number) => Promise<APIResponseType>,\n                                   actionCreator: (userId: number) => ActionsTypes) => {\n    dispatch(actions.toggleFollowingInProgress(true, userId))\n    let data = await apiMethod(userId)\n\n    if (data.resultCode == 0) {\n        dispatch(actionCreator(userId))\n    }\n    dispatch(actions.toggleFollowingInProgress(false, userId))\n\n}\n\nexport const unfollow = (userId: number):ThunkType => {\n    return async (dispatch) => {\n        await _followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), actions.unfollowSuccess)\n    }\n}\n\nexport const follow = (userId: number):ThunkType => {\n    return async (dispatch) => {\n        await _followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), actions.followSuccess)\n    }\n}\n\nexport default usersReducer\n\nexport type InitialStateType = typeof initialState\nexport type FilterType = typeof initialState.filter\ntype ActionsTypes = InferActionsTypes<typeof actions>\ntype ThunkType = BaseThunkType<ActionsTypes>\n","import React from 'react'\nimport styles from './users.module.css'\nimport {NavLink} from \"react-router-dom\";\nimport {UserType} from \"../../types/types\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getFollowingInProgress} from \"../../redux/users-selectors\";\nimport {follow, unfollow} from \"../../redux/users-reducer\";\nimport {Avatar, Button, Typography} from \"antd\";\nimport {UserOutlined, UserAddOutlined, UserDeleteOutlined} from \"@ant-design/icons\";\n\nconst { Text } = Typography;\n// const btnPos = {\n//     marginTop: '-66px',\n//     marginLeft: '115px'\n// }\nconst gap = {marginTop: '5px'}\n\ntype UserPropsType = {\n    user: UserType,\n}\n\nexport const User: React.FC<UserPropsType> = ({user}) => {\n\n    const dispatch = useDispatch()\n    const followingInProgress = useSelector(getFollowingInProgress)\n\n    return (\n        <div className={styles.user}>\n                    <span>\n                        <NavLink to={'./profile/' + user.id}>\n                            <div>\n                                 <Avatar shape=\"square\" size={150} src={user.photos.small } icon={<UserOutlined />} />\n                            </div>\n                        </NavLink>\n                        <div className={styles.bntPos}>\n                            {user.followed\n                                ?\n                                <Button type=\"primary\" danger shape=\"circle\" icon={<UserDeleteOutlined />} size={'large'} title={'unfollow'}\n                                        disabled={followingInProgress.some((id) => id === user.id)} onClick={() => {\n                                    dispatch(unfollow(user.id))\n                                }}/>\n                                :\n                                <Button type=\"primary\" shape=\"circle\" icon={<UserAddOutlined />} size={'large'} title={'follow'}\n                                        disabled={followingInProgress.some((id) => id === user.id)} onClick={() => {\n                                    dispatch(follow(user.id))\n                                }}/>}\n                        </div>\n                         <NavLink to={'./profile/' + user.id}>\n                              <div style={gap}><Text strong>{user.name}</Text></div>\n                         </NavLink>\n                    </span>\n            <span>\n                {/*<span>*/}\n                {/*            <div>{\"user.location.country\"}</div>*/}\n                {/*            <div>{\"u.location.city\"}</div>*/}\n                {/*</span>*/}\n            </span>\n\n        </div>);\n};","import React from \"react\";\nimport {Form, Formik} from \"formik\";\nimport {FilterType} from \"../../redux/users-reducer\";\nimport {getFilter} from \"../../redux/users-selectors\";\nimport {useSelector} from \"react-redux\";\nimport styles from './users.module.css'\nimport {Input, Select, SubmitButton} from \"formik-antd\";\n\ntype PropsType = {\n    onFilterChanged: (filter: FilterType) => void,\n}\n\nconst UsersSearchForm: React.FC<PropsType> = React.memo((props) => {\n\n    const filter = useSelector(getFilter)\n\n    return (\n        <Formik\n            enableReinitialize\n            initialValues={{term: filter.term, friend: String(filter.friend)}}\n            validate={() => {\n            }}\n            onSubmit={(values, {setSubmitting}) => {\n\n                const filter: FilterType = {\n                    term: values.term,\n                    friend: values.friend === 'true' ? true : values.friend === 'false' ? false : null\n                }\n\n                props.onFilterChanged(filter)\n\n                setSubmitting(false)\n            }}\n        >\n            {({\n                  isSubmitting\n              }) => (\n                <Form className={styles.searchForm}>\n                    <Input className={styles.searchFormInput} name={'term'} type={'text'} placeholder={'user-name'}/>\n                    <Select name={'friend'}  className={styles.searchFormSelect}>\n                        <option value={'null'}>All</option>\n                        <option value={'true'}>Only followed</option>\n                        <option value={'false'}>Only unfollowed</option>\n                    </Select>\n                    <SubmitButton disabled={isSubmitting}>\n                        Filter\n                    </SubmitButton>\n                </Form>\n            )}\n        </Formik>\n    )\n})\n\nexport default UsersSearchForm","import React, {useEffect} from 'react'\nimport Paginator from \"../common/Paginator/Paginator\";\nimport {User} from \"./User\";\nimport {actions, FilterType, getUsers} from \"../../redux/users-reducer\";\nimport UsersSearchForm from \"./UsersSearchForm\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {\n    getCurrentPage,\n    getPageSize,\n    getFilter,\n    getTotalUsersCount,\n    getUsersSuperSelector,\n} from \"../../redux/users-selectors\";\nimport {useHistory} from \"react-router-dom\";\nimport * as queryString from \"querystring\";\nimport styles from './users.module.css'\n\ntype PropsType = {}\ntype QueryParamsType = {page: string, term?: string, friend?: string}\n\nlet Users: React.FC<PropsType> = (props) => {\n\n    const dispatch = useDispatch()\n    const history = useHistory()\n\n    const currentPage = useSelector(getCurrentPage)\n    const pageSize = useSelector(getPageSize)\n    const filter = useSelector(getFilter)\n    const totalCount = useSelector(getTotalUsersCount)\n    const users = useSelector(getUsersSuperSelector)\n\n    useEffect( () => {\n        const parsed = queryString.parse(history.location.search.substring(1)) as QueryParamsType\n\n        let actualPage = currentPage\n        let actualFilter = filter\n\n        if (!!parsed.page) actualPage = Number(parsed.page)\n        if (!!parsed.term) actualFilter = {...filter, term: parsed.term as string}\n\n        switch (parsed.friend){\n            case 'null': {\n                actualFilter = {...actualFilter, friend: null}\n                break\n            }\n            case 'true': {\n                actualFilter = {...actualFilter, friend: true}\n                break\n            }\n            case 'false': {\n                actualFilter = {...actualFilter, friend: false}\n                break\n            }\n        }\n\n        dispatch(getUsers(actualPage, pageSize, actualFilter))\n    }, [])\n\n    useEffect (()=>{\n        let query:QueryParamsType = {page: '1'}\n\n        query.page = String(currentPage)\n        if (!!filter.term) query.term = filter.term\n        if (filter.friend !== null) query.friend = String(filter.friend)\n\n        history.push({\n            pathname: '/users',\n            search: queryString.stringify(query)\n        })\n    }, [filter, currentPage])\n\n    const changePage = (p: number) => {\n        dispatch(getUsers(p, pageSize, filter))\n    }\n    const onFilterChanged = (filter: FilterType) => {\n        dispatch(getUsers(1, pageSize, filter))\n    }\n\n    return (\n        <div className={styles.usersContainer}>\n            <UsersSearchForm onFilterChanged={onFilterChanged}/>\n            <div className={styles.usersList}>\n                {\n                    users.map((u) => <User user={u}/>)\n                }\n            </div>\n            <Paginator currentPage={currentPage} changePage={changePage}\n                       pageSize={pageSize} totalItemsCount={totalCount}/>\n        </div>\n    );\n}\n\nexport default Users","export default __webpack_public_path__ + \"static/media/preloader.f5748b97.gif\";","import preloader from '../../../assets/images/preloader.gif'\nimport style from './Preloader.module.css'\n\nlet Preloader: React.FC = () => {\n    return (\n        <div className={style.preloader}>\n            <img src={preloader} alt=\"preloader\"/>\n        </div>\n    )\n}\n\nexport default Preloader","import React, {Props} from 'react'\nimport Users from \"./Users\";\nimport Preloader from \"../common/Preloader/Preloader\";\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\nimport {getIsFetching} from \"../../redux/users-selectors\";\nimport {useSelector} from \"react-redux\";\n\ntype PropsType = {\n\n}\n\nexport const UsersContainer: React.FC<PropsType> = (props) => {\n\n    const isFetching = useSelector(getIsFetching)\n\n    return <>\n        {isFetching ? <Preloader/> : null}\n        <Users/>\n    </>\n\n}\n\nexport const UsersPage = compose<React.ComponentType>(\n    withAuthRedirect,\n)(UsersContainer)","import React, {ChangeEvent, useEffect, useState} from 'react'\nimport s from './ProfileInfo.module.css'\n\ntype PropsType = {\n    status: string,\n    updateProfileStatus: (status: string) => void\n}\n\nconst ProfileStatusWithHooks: React.FC<PropsType> = (props) => {\n\n    let [editMode, setEditMode] = useState(false)\n    let [status, setStatus] = useState(props.status)\n\n    useEffect( () => {\n        setStatus(props.status)\n    }, [props.status])\n\n    const activateEditMode = () => {\n        setEditMode(true)\n    }\n\n    const deactivateEditMode = () => {\n        setEditMode(false)\n        props.updateProfileStatus(status)\n    }\n\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\n        setStatus(e.currentTarget.value)\n    }\n\n    return (\n        <div>\n            { !editMode &&\n            <div>\n                <p onClick={activateEditMode}>{props.status || \"-----\"}</p>\n            </div>\n            }\n            {editMode &&\n            <div>\n                <input autoFocus={true} onChange={onStatusChange} onBlur={deactivateEditMode} value={status}/>\n            </div>\n            }\n        </div>\n    )\n}\n\n\nexport default ProfileStatusWithHooks","import {Field, InjectedFormProps, reduxForm} from \"redux-form\";\nimport {Input, Textarea} from \"../../common/FormsControls/FormsControls\";\nimport s from \"./ProfileInfo.module.css\"\nimport style from \"./../../common/FormsControls/FormsControls.module.css\"\nimport {ProfileDataType} from \"../../../types/types\";\n\ntype PropsType = {\n    profileData: ProfileDataType\n}\n\nconst ProfileDataForm: React.FC<InjectedFormProps<ProfileDataType, PropsType> & PropsType> = ({handleSubmit, profileData, error}) => {\n    return (\n        <form onSubmit={handleSubmit}>\n            <div>\n                <button>Save Changes</button>\n            </div>\n            {\n                error &&  <div className={style.formSummaryError}> {error}</div>\n            }\n            <div>\n                <b>Full name:</b>  <Field placeholder={'Name Surname'} name={'fullName'} component={Input}/>\n            </div>\n            <div>\n                <b>About me:</b><Field placeholder={'About Me...'} name={'aboutMe'} component={Input}/>\n            </div>\n            <div>\n                <b>Looking for a job:</b> <Field name={'lookingForAJob'} component={'input'} type={'checkbox'}/>\n            </div>\n            <div>\n                <b>Professional skills:</b>  <Field placeholder={'Professional skills'} name={'lookingForAJobDescription'} component={Textarea}/>\n            </div>\n            <div>\n                <b>Contacts:</b> { Object.keys(profileData.contacts).map((key) => {\n                return (\n                    <div key={key} className={s.socialNetContact} >\n                        <b>{key} :</b> <Field placeholder={key + ' link'} name={'contacts.'+key} component={Input}/>\n                    </div>)\n            })  }\n            </div>\n        </form>\n    )\n}\n\nconst ProfileDataFormReduxForm = reduxForm<ProfileDataType, PropsType>({form: 'edit-profile'})(ProfileDataForm)\nexport default ProfileDataFormReduxForm","import s from \"./ProfileInfo.module.css\"\nimport Preloader from \"../../common/Preloader/Preloader\"\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\nimport React, {useState} from \"react\";\nimport ProfileDataForm from \"./ProfileDataForm\";\nimport {ContactsType, ProfileDataType} from \"../../../types/types\";\nimport {Col, Image, Row} from \"antd\";\n\ntype PropsType = {\n    profileData: ProfileDataType | null,\n    status: string,\n    updateProfileStatus: (status: string) => void,\n    isOwner: boolean,\n    uploadPhoto: (file: File) => void,\n    saveProfile: (profileData: ProfileDataType) => Promise<any>\n}\n\nconst ProfileInfo: React.FC<PropsType> = ({profileData, status, updateProfileStatus, isOwner, uploadPhoto, saveProfile}) => {\n\n    let [editMode, setEditMode] = useState(false)\n\n    if (!profileData) {\n        return (<Preloader/>)\n    }\n\n    const onMainPhotoSelected = (e: any) => {\n        if (e.target.files?.length) {\n            uploadPhoto(e.target.files[0])\n        }\n    }\n\n    const onSubmit = (formData: ProfileDataType) => {\n        saveProfile(formData).then(\n            () => {\n                setEditMode(false)\n            }\n        )\n    }\n\n    return (\n            <Row>\n                <Col xs={24} sm={16} md={10}   className={s.profileData}>\n                    <div>\n                        <Image src={profileData.photos.large || \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==\"\n                         }  alt=\"user avatar\"\n                            />\n                    </div>\n                    {isOwner && <input type={'file'} onChange={onMainPhotoSelected}/>}\n                    <h3>{profileData.fullName}</h3>\n                    <ProfileStatusWithHooks status={status} updateProfileStatus={updateProfileStatus}/>\n                </Col>\n                <Col xs={24} sm={16} md={10}   className={s.descriptionBlock}>\n                    {\n                        editMode\n                            ?\n                            <ProfileDataForm onSubmit={onSubmit} initialValues={profileData} profileData={profileData}/>\n                            : <ProfileData profileData={profileData}\n                                           isOwner={isOwner}\n                                           setEditMode={() => {\n                                               setEditMode(true)\n                                           }}/>\n                    }\n                </Col>\n            </Row>\n    )\n        ;\n}\n\ntype ProfileDataPropsType = {\n    profileData: ProfileDataType,\n    isOwner: boolean,\n    setEditMode: () => void\n}\n\nconst ProfileData: React.FC<ProfileDataPropsType> = ({profileData, isOwner, setEditMode}) => {\n    return (\n        <div>\n            { isOwner &&\n            <div>\n                <button onClick={setEditMode}>Edit Mode</button>\n            </div>\n            }\n            <div>\n                <b>About Me:</b> {profileData.aboutMe}\n            </div>\n            <div>\n                <b>Looking for a job:</b> { profileData.lookingForAJob ? \"yes\" : \"no\"}\n            </div>\n            {/*{ profileData.lookingForAJob &&*/}\n            <div>\n                <b>Professional skills:</b> {profileData.lookingForAJobDescription}\n            </div>\n            {/*}*/}\n            <div>\n                <b>Contacts:</b> {\n                Object\n                    .keys(profileData.contacts)\n                    .map((key) => {\n                        return <SocialNetContact key={key} socialNetName={key}\n                                                 socialNetValue={profileData.contacts[key as keyof ContactsType]}/>\n                    })}\n            </div>\n        </div>\n    )\n}\n\ntype SNContactPropsType = {\n    socialNetName: string,\n    socialNetValue: string\n}\n\nconst SocialNetContact: React.FC<SNContactPropsType> = ({socialNetName, socialNetValue}) => {\n    return (\n        <div className={s.socialNetContact}>\n            <b>{socialNetName}: </b> {socialNetValue}\n        </div>\n    );\n}\n\nexport default ProfileInfo;","import {PhotosType, ProfileDataType} from \"../types/types\"\nimport {instance, APIResponseType} from \"./api\"\n\ntype SavePhotoResponseDataType = {\n    photos: PhotosType\n}\n\nexport const profileAPI = {\n    getProfileData: (userId: number) => {\n        return instance.get<ProfileDataType>(`profile/${userId}`).then(res => res.data)\n    },\n    getProfileStatus: (userId: number) => {\n        return instance.get<string>(`profile/status/${userId}`).then(res => res.data)\n    },\n    updateProfileStatus: (newStatus: string) => {\n        return instance.put<APIResponseType>(`profile/status `, {status: newStatus}).then(res => res.data)\n    },\n    savePhoto: (photoFile: File) => {\n        let formData = new FormData()\n        formData.append('photo', photoFile)\n        return instance.put<APIResponseType<SavePhotoResponseDataType>>(`profile/photo`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        }).then(res => res.data)\n    },\n    saveProfileData: (profileData: ProfileDataType) => {\n        return instance.put<APIResponseType>(`profile`, profileData).then(res => res.data)\n    }\n}","import {stopSubmit} from \"redux-form\";\n import {PhotosType, PostType, ProfileDataType} from \"../types/types\";\n import {profileAPI} from \"../api/profileAPI\";\nimport {BaseThunkType, InferActionsTypes} from \"./redux-store\";\n\nlet initialState = {\n    posts: [\n        {id: 0, message: \"Hello World!\", likesCounter: 321},\n        {id: 1, message: \"0101101110\", likesCounter: 18},\n    ] as Array<PostType>,\n    profileData: null as null | ProfileDataType,\n    profileStatus: '',\n}\n\nexport const actions = {\n    addPost: (postText: string) => ({type: 'profile/ADD-POST', text: postText} as const),\n    setProfileData: (profileData: ProfileDataType) => ({type: 'profile/SET_PROFILE_DATA', profileData} as const),\n    setProfileStatus: (status: string) => ({type: 'profile/SET_PROFILE_STATUS', status} as const),\n    savePhotoSuccess: (photos: PhotosType) => ({type: 'profile/SAVE_PHOTO_SUCCESS', photos} as const),\n    updateLikesCounter: (id: number, operator: number) => ({type: 'profile/UPDATE_LIKES_COUNTER', id, operator} as const),\n}\n\nconst profileReducer = (state = initialState, action: ActionsType): initialStateType => {\n    switch (action.type) {\n        case 'profile/ADD-POST': {\n            let newPost = {\n                id: state.posts.length,\n                message: action.text,\n                likesCounter: 0,\n            }\n            return {\n                ...state,\n                posts: [...state.posts, newPost]\n            }\n        }\n        case 'profile/UPDATE_LIKES_COUNTER': {\n\n            return{\n                ...state,\n                posts: state.posts.map(el => { if (el.id === action.id){return {...el, likesCounter : el.likesCounter + action.operator}} else return el})\n            }\n        }\n        case 'profile/SET_PROFILE_DATA': {\n            return {\n                ...state,\n                profileData: action.profileData\n            }\n        }\n        case 'profile/SET_PROFILE_STATUS': {\n            return{\n                ...state,\n                profileStatus: action.status\n            }\n        }\n        case 'profile/SAVE_PHOTO_SUCCESS': {\n            return{\n                ...state,\n                profileData: {...state.profileData, photos: action.photos} as ProfileDataType\n            }\n        }\n        default:\n            return state\n    }\n\n\n}\n\nexport const getProfileData = (userId: number): ThunkType => {\n    return async (dispatch) => {\n        let data = await profileAPI.getProfileData(userId)\n                dispatch(actions.setProfileData(data))\n    }\n}\n\nexport const getProfileStatus = (userId: number): ThunkType => {\n    return async (dispatch) => {\n        let data = await profileAPI.getProfileStatus(userId)\n                dispatch(actions.setProfileStatus(data))\n    }\n}\n\n export const updateProfileStatus = (status: string):ThunkType => async (dispatch) => {\n     try {\n         let data = await profileAPI.updateProfileStatus(status)\n         if (data.resultCode === 0) {\n             dispatch(actions.setProfileStatus(status))\n         }\n     } catch (error) {\n         console.error(error)\n     }\n }\n\n\n export const uploadPhoto = (file: File): ThunkType => {\n     return async  (dispatch) => {\n         let data = await profileAPI.savePhoto(file)\n         if(data.resultCode === 0){\n             dispatch(actions.savePhotoSuccess(data.data.photos))\n         }\n     }\n }\n\n export const saveProfile = (profileData: ProfileDataType): ThunkType => {\n     return async  (dispatch, getState) => {\n         const userId = getState().auth.userId\n         const data = await profileAPI.saveProfileData(profileData)\n         if(data.resultCode === 0){\n             if (userId != null) {\n                 dispatch(getProfileData(userId))\n             } else {\n                 throw new Error(\"userId can not be null\")\n             }\n         } else {\n             dispatch(stopSubmit('edit-profile', {_error: data.messages[0]}))\n             return Promise.reject(data.messages[0])\n         }\n     }\n }\n\nexport default profileReducer;\n\nexport type initialStateType = typeof initialState\ntype ActionsType = InferActionsTypes<typeof actions>\ntype ThunkType = BaseThunkType<ActionsType | ReturnType<typeof stopSubmit>>","import {Comment, Tooltip, Avatar} from 'antd';\nimport {createElement, useEffect, useState} from \"react\";\nimport {LikeOutlined, LikeFilled} from '@ant-design/icons';\nimport moment from 'moment';\n\ntype PropsType = {\n    id: number\n    message: string\n    likesCounter: number\n    updateLikesCounter: (id: number, operator: number) => void\n}\n\nconst Post: React.FC<PropsType> = (props) => {\n\n    const [likes, setLikes] = useState(props.likesCounter);\n    const [action, setAction] = useState('null');\n\n    useEffect(() => {\n        setLikes(props.likesCounter)\n    }, [props.likesCounter])\n\n    const like = () => {\n        if (action === 'liked') {\n            props.updateLikesCounter(props.id, -1)\n            setAction('null');\n        } else {\n            props.updateLikesCounter(props.id, 1)\n            setAction('liked');\n        }\n    };\n\n    const actions = [\n        <Tooltip key=\"comment-basic-like\" title=\"Like\">\n      <span onClick={like}>\n        {createElement(action === 'liked' ? LikeFilled : LikeOutlined)}\n          <span className=\"comment-action\">{likes}</span>\n      </span>\n        </Tooltip>,\n        <span key=\"comment-basic-reply-to\">Reply to</span>,\n    ];\n\n    return (\n        <Comment\n            actions={actions}\n            author={<a>Han Solo</a>}\n            avatar={<Avatar src={`https://joeschmoe.io/api/v1/${props.id}`} alt=\"Han Solo\"/>}\n            content={\n                <p>\n                    {props.message}\n                </p>\n            }\n            datetime={\n                <Tooltip title={moment().format('YYYY-MM-DD HH:mm:ss')}>\n                    <span>{moment().fromNow()}</span>\n                </Tooltip>\n            }\n        />\n    );\n}\n\nexport default Post;","import {maxLengthCreator} from \"../../../../utils/validators/validators\";\nimport {Form, Input /* ... */} from 'formik-antd'\nimport { Formik } from 'formik'\nimport React from \"react\";\nimport {Button, Col, Row} from \"antd\";\n\nconst maxLength10 = maxLengthCreator(10)\n\ntype PropsType = { addPost: (newPostText: string) => void; }\n\nexport type AddPostFormValuesType = {\n    newPostText: string\n}\n\nexport const AddPostForm: React.FC<PropsType> = (props) => {\n    return (\n        <div className={'addPostContainer'}>\n            <Row>\n                <Col xs={24} sm={20} md={16} lg={10} xl={10}>\n                    <Formik\n                        initialValues={{newPostText: ''}}\n                        onSubmit={(formData, {resetForm}) => {\n                            props.addPost(formData.newPostText)\n                            resetForm()\n                        }}\n                        render={() => (\n                            <Form>\n                                <Form.Item name='newPostText'>\n                                    <Input.TextArea name='newPostText' placeholder=\"What's new?\" showCount\n                                                    required={true} maxLength={100}/>\n                                </Form.Item>\n                                <Form.Item name={'button'}>\n                                    <Button htmlType={'submit'}>Add Post</Button>\n                                </Form.Item>\n                            </Form>\n                        )}\n                    />\n                </Col>\n            </Row>\n        </div>\n    )\n}","import s from './MyPosts.module.css'\nimport Post from './Post/Post';\nimport React, {useState} from 'react';\nimport {AddPostForm} from \"./AddPostForm/AddPostForm\";\nimport {PostType} from \"../../../types/types\";\n\nexport type MapPropsType = {\n    posts: Array<PostType>,\n}\n\nexport type DispatchPropsType = {\n    addPost: (newPostText: string) => void\n    updateLikesCounter: (id: number, operator: number) => void\n}\n\nconst MyPosts: React.FC<MapPropsType & DispatchPropsType> = (props) => {\n\n    let postsElements = props.posts.map(post => <Post key={post.id} id={post.id} message={post.message}\n                                                      likesCounter={post.likesCounter} updateLikesCounter={props.updateLikesCounter}/>)\n\n    return (\n        <div className={s.postsBlock}>\n            <AddPostForm addPost={props.addPost}/>\n            <div className={s.posts}>\n                {postsElements}\n            </div>\n        </div>\n    );\n}\n\nconst MyPostMemorized = React.memo(MyPosts)\n\nexport default MyPostMemorized;","import React from 'react';\nimport {actions} from \"../../../redux/profile-reducer\";\nimport MyPostMemorized, {DispatchPropsType, MapPropsType} from \"./MyPosts\";\nimport {connect} from \"react-redux\";\nimport {AppStateType} from \"../../../redux/redux-store\";\n\nconst mapStateToProps = (state: AppStateType) =>{\n    return {\n        posts: state.profilePage.posts\n    }\n}\n\nconst MyPostsContainer = connect<MapPropsType, DispatchPropsType, {}, AppStateType>(mapStateToProps,\n    {addPost: actions.addPost, updateLikesCounter: actions.updateLikesCounter})(MyPostMemorized)\n\nexport default MyPostsContainer;","import ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\nimport {ProfileDataType} from \"../../types/types\";\nimport {Divider} from \"antd\";\nimport styles from './Profile.module.css'\n\ntype PropsType = {\n    profileData: ProfileDataType | null,\n    status: string,\n    updateProfileStatus: (status: string) => void,\n    isOwner: boolean,\n    uploadPhoto: (file: File) => void,\n    saveProfile: (profileData: ProfileDataType) => Promise<any>\n}\n\nconst Profile: React.FC<PropsType> = (props) => {\n    return (\n        <div className={styles.profile}>\n            <ProfileInfo isOwner={props.isOwner} profileData={props.profileData}\n                         status={props.status} uploadPhoto={props.uploadPhoto}\n                         updateProfileStatus={props.updateProfileStatus} saveProfile={props.saveProfile}/>\n            <Divider orientation={'left'}>My Posts</Divider>\n            <MyPostsContainer/>\n        </div>\n    )\n        ;\n}\n\nexport default Profile;","import React from 'react'\nimport Profile from \"./Profile\";\nimport {connect} from \"react-redux\";\nimport {\n    getProfileData,\n    getProfileStatus,\n    saveProfile,\n    updateProfileStatus,\n    uploadPhoto,\n} from \"../../redux/profile-reducer\";\nimport {RouteComponentProps, withRouter} from \"react-router-dom\"\nimport {compose} from \"redux\";\nimport {AppStateType} from \"../../redux/redux-store\";\nimport {ProfileDataType} from \"../../types/types\";\n\ntype MapPropsType = ReturnType<typeof mapStateToProps>\n\ntype DispatchPropsType = {\n    getProfileData: (userId: number) => void,\n    getProfileStatus: (userId: number) => void,\n    updateProfileStatus: (status: string) => void,\n    uploadPhoto: (file: File) => void,\n    saveProfile: (profile: ProfileDataType) => Promise<any>\n}\n\ntype PathParamsType = {\n    userId: string\n}\n\ntype PropsType = MapPropsType & DispatchPropsType & RouteComponentProps<PathParamsType>\n\nclass ProfileContainer extends React.Component<PropsType> {\n\n    refreshProfile() {\n        let userId: number | null = +this.props.match.params.userId\n        if (!userId) {\n            userId = this.props.userId\n            if (!userId) {\n                this.props.history.push('/login')\n            }\n        }\n        this.props.getProfileData(userId as number)\n        this.props.getProfileStatus(userId as number)\n    }\n\n    componentDidMount() {\n        this.refreshProfile()\n\n    }\n\n    componentDidUpdate(prevProps: PropsType, prevState: PropsType) {\n        if (this.props.match.params.userId != prevProps.match.params.userId) {\n            this.refreshProfile()\n        }\n    }\n\n    render() {\n        return (\n            <Profile\n                {...this.props}\n                isOwner={!this.props.match.params.userId}\n                profileData={this.props.profileData}\n                updateProfileStatus={this.props.updateProfileStatus}\n                uploadPhoto={this.props.uploadPhoto}\n                saveProfile={this.props.saveProfile}/>\n        )\n    }\n}\n\nconst mapStateToProps = (state: AppStateType) => {\n    return {\n        profileData: state.profilePage.profileData,\n        status: state.profilePage.profileStatus,\n        userId: state.auth.userId,\n        isAuth: state.auth.isAuth,\n    }\n}\n\nexport default compose<React.ComponentType>(\n    connect(mapStateToProps, {getProfileData, getProfileStatus, updateProfileStatus, uploadPhoto, saveProfile}),\n    withRouter\n)(ProfileContainer)","import {instance, APIResponseType, ResultCodeForCaptchaEnum, ResultCodesEnum} from \"./api\"\n\ntype MeResponseDataType = { id: number, email: string, login: string }\ntype LoginResponseDataType = { userId: number }\n\nexport const authAPI = {\n    authMe: () => {\n        return instance.get<APIResponseType<MeResponseDataType>>(`auth/me`).then(res => res.data)\n    },\n    login: (email: string, password: string, rememberMe = false, captcha: null | string = null) => {\n        return instance.post<APIResponseType<LoginResponseDataType, ResultCodesEnum | ResultCodeForCaptchaEnum>>(`auth/login`, {email, password, rememberMe, captcha})\n            .then(res => res.data)\n    },\n    logout: () => {\n        return instance.delete<APIResponseType>(`auth/login`)\n    }\n}","import {APIResponseType, instance} from \"./api\"\n\ntype GetCaptchaUrlResponseType = {\n    url: string\n}\n\nexport const securityAPI = {\n    getCaptchaUrl: () => {\n        return instance.get<GetCaptchaUrlResponseType>(`security/get-captcha-url`).then(res => res.data)\n    }\n}","import {ResultCodeForCaptchaEnum, ResultCodesEnum} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\";\nimport {authAPI} from \"../api/authAPI\";\nimport {securityAPI} from \"../api/securityAPI\";\nimport {BaseThunkType, InferActionsTypes} from \"./redux-store\";\n\nlet initialState = {\n    userId: null as number | null,\n    email: null as string | null,\n    login: null as string | null,\n    isAuth: false,\n    captchaUrl: null as string | null\n}\n\nconst authReducer = (state = initialState, action: ActionsType): initialStateType => {\n    switch (action.type) {\n        case 'auth/SET_USER_DATA':\n        case 'auth/SET_NEW_CAPTCHA_URL':\n            return {\n                ...state,\n                ...action.payload\n            }\n        default:\n            return state;\n    }\n}\n\nexport const actions = {\n    setAuthUserData: (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => ({\n        type: 'auth/SET_USER_DATA', payload: {userId, email, login, isAuth}\n    } as const),\n    setNewCaptchaUrl: (captchaUrl: string) => ({type: 'auth/SET_NEW_CAPTCHA_URL', payload: {captchaUrl}} as const),\n\n}\n\nexport const authMe = (): ThunkType => async (dispatch) => {\n    let meData = await authAPI.authMe()\n\n    if (meData.resultCode === ResultCodesEnum.Success) {\n        let {id, login, email} = meData.data\n        dispatch(actions.setAuthUserData(id, email, login, true))\n    }\n};\n\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string): ThunkType => async (dispatch) => {\n    let data = await authAPI.login(email, password, rememberMe, captcha)\n    if (data.resultCode === ResultCodesEnum.Success) {\n        dispatch(authMe())\n    } else {\n        if (data.resultCode === ResultCodeForCaptchaEnum.CaptchaIsRequired) {\n            dispatch(getCaptchaUrl())\n        }\n\n        let message = data.messages.length > 0 ? data.messages[0] : \"Some error appeared\"\n        dispatch(stopSubmit(\"login\", {_error: message}))\n    }\n};\n\nexport const getCaptchaUrl = (): ThunkType => async (dispatch: any) => {\n    const data = await securityAPI.getCaptchaUrl()\n    const captchaUrl = data.url\n    dispatch(actions.setNewCaptchaUrl(captchaUrl))\n\n}\n\nexport const logout = (): ThunkType => async (dispatch: any) => {\n    let response = await authAPI.logout()\n\n    if (response.data.resultCode === 0) {\n        dispatch(actions.setAuthUserData(null, null, null, false))\n    }\n};\n\nexport default authReducer\n\nexport type initialStateType = typeof initialState\ntype ActionsType = InferActionsTypes<typeof actions>\ntype ThunkType = BaseThunkType<ActionsType | ReturnType<typeof stopSubmit>>\n\n\n\n\n\n\n\n\n","import {Field, InjectedFormProps, reduxForm} from \"redux-form\";\nimport {required} from \"../../utils/validators/validators\";\nimport {Input} from \"../common/FormsControls/FormsControls\";\nimport {useDispatch, useSelector} from 'react-redux'\nimport {login} from \"../../redux/auth-reducer\";\nimport {Redirect} from \"react-router-dom\";\nimport s from \"./../common/FormsControls/FormsControls.module.css\"\nimport style from \"./Login.module.css\"\nimport {AppStateType} from \"../../redux/redux-store\";\nimport {Button, Col, Row} from \"antd\";\n\ntype LoginFormOwnPropsType = {\n    captchaUrl: string | null\n}\n\nconst LoginForm: React.FC<InjectedFormProps<LoginFormValuesType, LoginFormOwnPropsType> & LoginFormOwnPropsType> = ({\n                                                                                                                        handleSubmit,\n                                                                                                                        error,\n                                                                                                                        captchaUrl\n                                                                                                                    }) => {\n    return (\n        <form onSubmit={handleSubmit}>\n            <div>\n                <Field placeholder={\"E-mail\"} name={\"email\"} component={Input} validate={[required]}/></div>\n            <div>\n                <Field type={\"password\"} placeholder={\"Password\"} name={\"password\"} component={Input}\n                       validate={[required]}/></div>\n            <div>\n                <Field type={\"checkbox\"} name={\"rememberMe\"} component={\"input\"} style={{width: '30px'}}/> remember me\n            </div>\n            {captchaUrl &&\n            <div className={style.captcha}>\n                <div>\n                    <img src={captchaUrl}/>\n                </div>\n                <div>\n                    <Field name={'captcha'} component={Input} validate={[required]}/>\n                </div>\n            </div>\n            }\n            {\n                error && <div className={s.formSummaryError}> {error}</div>\n            }\n            <div>\n                <Button type={\"primary\"} htmlType={'submit'}>Login</Button>\n            </div>\n        </form>\n    )\n}\n\nconst LoginReduxForm = reduxForm<LoginFormValuesType, LoginFormOwnPropsType>({form: 'login'})(LoginForm)\n\ntype MapStatePropsType = {}\n\ntype LoginFormValuesType = {\n    email: string,\n    password: string,\n    rememberMe: boolean,\n    captcha: string\n}\n\nexport const LoginPage: React.FC<MapStatePropsType> = (props) => {\n\n    const dispatch = useDispatch()\n    const captchaUrl = useSelector((state: AppStateType) => state.auth.captchaUrl)\n    const isAuth = useSelector((state: AppStateType) => state.auth.isAuth)\n\n    const onSubmit = (formData: LoginFormValuesType) => {\n        dispatch(login(formData.email, formData.password, formData.rememberMe, formData.captcha))\n    }\n\n    if (isAuth) {\n        return <Redirect to={'/profile'}/>\n    }\n\n    return (\n        <Row justify={\"center\"} >\n            <Col lg={6} md={9} sm={12}>\n                <div className={style.loginBlock}>\n                    <h1>Login</h1>\n                    <LoginReduxForm captchaUrl={captchaUrl} onSubmit={onSubmit}/>\n                </div>\n            </Col>\n        </Row>\n    )\n\n}","import {authMe} from \"./auth-reducer\";\nimport {InferActionsTypes} from \"./redux-store\";\n\nlet initialState = {\n    initialized: false\n}\n\nexport type InitialStateType = typeof initialState\ntype ActionsType = InferActionsTypes<typeof actions>\n\nconst appReducer = (state = initialState, action: ActionsType): InitialStateType => {\n    switch (action.type) {\n        case 'app/INITIALIZED_SUCCESS':\n            return {\n                ...state,\n                initialized: true,\n            }\n        default:\n            return state\n    }\n}\n\nexport const actions = {\n    initializedSuccess: () => ({type: 'app/INITIALIZED_SUCCESS'} as const)\n}\n\nexport const initializeApp = () => (dispatch: any) => {\n    let promise = dispatch(authMe())\n    Promise.all([promise])\n        .then(() => {\n        dispatch(actions.initializedSuccess())\n    })\n\n}\n\nexport default appReducer","let initialState = {}\n\ntype initialStateType = typeof initialState\n\nconst sidebarReducer = (state = initialState, action: any): initialStateType => {\n\n    return state\n}\n\nexport default sidebarReducer;","import {Action, applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport profileReducer from \"./profile-reducer\";\nimport sidebarReducer from \"./sidebar-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reducer\";\nimport thunkMiddleWare, {ThunkAction} from 'redux-thunk'\nimport { reducer as formReducer} from 'redux-form'\nimport appReducer from \"./app-reducer\";\n\nlet rootReducer = combineReducers({\n    profilePage :profileReducer,\n    dialogsPage :dialogsReducer,\n    sidebar :sidebarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer\n})\n\ntype rootReducerType = typeof rootReducer\nexport type AppStateType = ReturnType<rootReducerType>\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, AppStateType, unknown, A>\n\nexport type InferActionsTypes<T> = T extends { [key: string]: (...args: any[]) => infer U } ? U: never\n\n// @ts-ignore\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n    const store = createStore(rootReducer, composeEnhancers(\n        applyMiddleware(thunkMiddleWare)\n));\n\nexport default store","import {AppStateType} from \"./redux-store\";\n\nexport const selectIsAuth = (state: AppStateType) => {\n    return state.auth.isAuth\n}\n\nexport const selectLogin = (state: AppStateType) => {\n    return state.auth.login\n}","import {Link} from \"react-router-dom\"\nimport React from \"react\"\nimport {Button, Layout} from \"antd\"\nimport {useDispatch, useSelector} from \"react-redux\"\nimport {logout} from \"../../redux/auth-reducer\"\nimport {selectIsAuth, selectLogin} from \"../../redux/auth-selectors\"\nimport {LogoutOutlined, LoginOutlined} from '@ant-design/icons'\n\nconst Header: React.FC = (props) => {\n\n    const {Header} = Layout;\n    const dispatch = useDispatch()\n\n    const isAuth = useSelector(selectIsAuth)\n    const login = useSelector(selectLogin)\n\n    const logoutCallBack = () => {\n        debugger\n        dispatch(logout())\n    }\n\n    return (\n        <Header className=\"site-layout-background\" style={{padding: '0 15% 0 0', display: 'flex', justifyContent: 'flex-end'}}>\n            <header style={{display: 'inline-block'}}>\n                    {isAuth\n                        ? <Button type=\"primary\" onClick={logoutCallBack}>Log out <LogoutOutlined /></Button>\n                        : <Button> <Link to={'/login'}>Login <LoginOutlined /></Link> </Button>}\n            </header>\n        </Header>\n    );\n}\n\nexport default Header;","import styles from './app.module.css'\nimport 'antd/dist/antd.css'\nimport {BrowserRouter, Link, Redirect, Route, Switch} from \"react-router-dom\"\nimport Settings from \"./components/Settings/Settings\"\nimport Music from \"./components/Music/Music\"\nimport News from \"./components/News/News\"\nimport {UsersPage} from \"./components/Users/UsersContainer\"\nimport ProfileContainer from \"./components/Profile/ProfileContainer\"\nimport {LoginPage} from \"./components/Login/LoginPage\"\nimport React, {Component, Suspense} from \"react\"\nimport {connect, Provider} from \"react-redux\"\nimport {initializeApp} from \"./redux/app-reducer\"\nimport Preloader from \"./components/common/Preloader/Preloader\"\nimport store, {AppStateType} from \"./redux/redux-store\"\nimport {Layout, Menu, Image, Row, Col} from 'antd';\nimport {\n    SettingOutlined,\n    FireOutlined,\n    SoundOutlined,\n    CommentOutlined,\n    MessageOutlined,\n    UserOutlined,\n    TeamOutlined,\n} from '@ant-design/icons';\nimport Header from \"./components/Header/Header\";\n\nconst {Content, Footer, Sider } = Layout;\n\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"))\nconst GeneralChatPage = React.lazy(() => import(\"./pages/GeneralChat/GeneralChatPage\"))\n\ntype MapStateTpPropsType = ReturnType<typeof mapStateToProps>\ntype MapDispatchToPropsType = {\n    initializeApp: () => void\n}\n\nclass App extends Component<MapStateTpPropsType & MapDispatchToPropsType> {\n\n    catchAllUnhandledErrors = (e: PromiseRejectionEvent) => {\n        console.error('Some error occured! (Check console for more details)')\n    }\n\n    componentDidMount() {\n        this.props.initializeApp()\n        window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors)\n    }\n\n    componentWillUnmount(){\n        window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors)\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <Layout>\n                <Layout className=\"site-layout\" >\n                    <Sider\n                        breakpoint=\"lg\"\n                        collapsedWidth=\"0\"\n                        onBreakpoint={broken => {\n                            console.log(broken);\n                        }}\n                        onCollapse={(collapsed, type) => {\n                            console.log(collapsed, type);\n                        }}\n                    >\n                        <div style={{marginLeft:20, marginTop:7, marginBottom: 0}}>\n                            <Row justify={'start'}>\n                                <Col >\n                                    <Image\n                                        preview={false}\n                                        height={50}\n                                        src={'https://miro.medium.com/max/800/1*VeM-5lsAtrrJ4jXH96h5kg.png'}\n                                    />\n                                </Col>\n                            </Row>\n                        </div>\n                        <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={['1']}>\n                            <Menu.Item key=\"1\" icon={<UserOutlined />}>\n                                <Link to='/profile'>My Profile</Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"2\" icon={<MessageOutlined/>}>\n                                <Link to='/dialogs' >Messages</Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"3\" icon={<TeamOutlined />}>\n                                <Link to='/users' >Users</Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"4\" icon={<CommentOutlined />}>\n                                <Link to='/generalChatPage' >General Chat</Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"5\" icon={<FireOutlined />}>\n                                <Link to='/news' >News</Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"6\" icon={<SoundOutlined />}>\n                                <Link to='/music' >Music</Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"7\" icon={<SettingOutlined />}>\n                                <Link to='/settings' >Settings</Link>\n                            </Menu.Item>\n                        </Menu>\n                    </Sider>\n                    <Layout>\n                        <Header />\n                        <Content className={styles.content}>\n                                <Switch>\n                                    <Redirect exact from={'/'} to={'/profile'}/>\n                                    <Route path='/profile/:userId?'\n                                           render={() => <ProfileContainer/>}/>\n                                    <Route path='/dialogs'\n                                           render={() => {\n                                               return <Suspense fallback={<Preloader/>}>\n                                                   <DialogsContainer/>\n                                               </Suspense>\n                                           }\n                                           }/>\n                                    <Route path='/users'\n                                           render={() => <UsersPage/>}/>\n                                    <Route path='/generalChatPage'\n                                           render={() => {\n                                               return <Suspense fallback={<Preloader/>}>\n                                                   <GeneralChatPage/>\n                                               </Suspense>\n                                           }\n                                           }/>\n                                    <Route path='/news' component={News}/>\n                                    <Route path='/music' component={Music}/>\n                                    <Route path='/settings' component={Settings}/>\n                                    <Route path='/login' component={LoginPage}/>\n                                    <Route path='*' render={() => <div>404 Page Not Found</div>}/>\n                                </Switch>\n                        </Content>\n                        <Footer className={styles.footer}>SN 2021 Created by Nikita Maliarchuk</Footer>\n                    </Layout>\n                </Layout>\n            </Layout>\n        )\n    }\n}\n\nconst mapStateToProps = (state: AppStateType) => {\n    return {\n        initialized: state.app.initialized\n    }\n}\n\nlet ContainerApp = connect(mapStateToProps, {initializeApp})(App)\n\nlet MainApp: React.FC = () => {\n    return (\n        <React.StrictMode>\n            <BrowserRouter>\n                <Provider store={store}>\n                    <ContainerApp/>\n                </Provider>\n            </BrowserRouter>\n        </React.StrictMode>\n    )\n}\n\nexport default MainApp","import App from \"./App\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport MainApp from \"./App\";\n\n\nReactDOM.render( <MainApp />, document.getElementById('root'));\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersContainer\":\"users_usersContainer__13urB\",\"usersList\":\"users_usersList__1Gf7O\",\"user\":\"users_user__1fmHm\",\"bntPos\":\"users_bntPos__36l32\",\"searchForm\":\"users_searchForm__2IaFB\",\"searchFormInput\":\"users_searchFormInput__olUKg\",\"searchFormSelect\":\"users_searchFormSelect__3QV-R\"};","import s from './FormsControls.module.css'\nimport {WrappedFieldProps} from \"redux-form\";\n\nexport const Textarea: React.FC<WrappedFieldProps> = ({input, meta, ...props}) => {\n\n    const hasError = meta.touched && meta.error\n    return (\n        <div className={s.formControl + \" \" + (hasError ? s.error :\" \") }>\n            <textarea {...input} {...props} />\n            {hasError && <span>{meta.error}</span>}\n        </div>\n    )\n}\n\nexport const Input: React.FC<WrappedFieldProps> = ({input, meta, ...props}) => {\n\n    const hasError = meta.touched && meta.error\n    return (\n        <div className={s.formControl + \" \" + (hasError ? s.error :\" \") }>\n            <input {...input} {...props} />\n            {hasError && <span>{meta.error}</span>}\n        </div>\n    )\n}\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3oI2W\",\"error\":\"FormsControls_error__9lcue\",\"formSummaryError\":\"FormsControls_formSummaryError__1F2-S\"};"],"sourceRoot":""}
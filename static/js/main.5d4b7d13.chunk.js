(this["webpackJsonpreact-1"]=this["webpackJsonpreact-1"]||[]).push([[0],{103:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(5),a=n(25),i=n(26),s=n(28),c=n(27),o=n(1),u=n.n(o),l=n(11),j=n(12),d=n(0),f=function(e){var t=function(t){Object(s.a)(o,t);var n=Object(c.a)(o);function o(){return Object(a.a)(this,o),n.apply(this,arguments)}return Object(i.a)(o,[{key:"render",value:function(){return this.props.isAuth?Object(d.jsx)(e,Object(r.a)({},this.props)):Object(d.jsx)(l.a,{to:"/login"})}}]),o}(u.a.Component);return Object(j.b)((function(e){return{isAuth:e.auth.isAuth}}))(t)}},124:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n(42),a=n(5),i="SEND-MESSAGE",s={dialogs:[{id:1,name:"Nikita",img:"https://www.pngkey.com/png/full/114-1149878_setting-user-avatar-in-specific-size-without-breaking.png"},{id:2,name:"Chibis",img:"https://xgh.dreaditkarein.pw/img/e69386580326bbf232c4223635ac3be0.png"},{id:3,name:"Solonin",img:"https://xgh.dreaditkarein.pw/img/e69386580326bbf232c4223635ac3be0.png"},{id:4,name:"Chipinkos",img:"https://xgh.dreaditkarein.pw/img/e69386580326bbf232c4223635ac3be0.png"},{id:5,name:"Zelemhan",img:"https://xgh.dreaditkarein.pw/img/e69386580326bbf232c4223635ac3be0.png"}],messages:[{id:1,message:"Hello World!"},{id:2,message:"Gm Sir!"},{id:1,message:"How are you??!!"},{id:2,message:"Awesome!"},{id:2,message:"And You??!"}]},c=function(e){return{type:i,text:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:2,message:t.text}]),newMessageText:""});default:return e}}},128:function(e,t,n){e.exports={userPhoto:"users_userPhoto__1_En6"}},131:function(e,t,n){e.exports={preloader:"Preloader_preloader__2dvkO"}},16:function(e,t,n){e.exports={nav:"Navbar_nav__2imOE",item:"Navbar_item__zmMk4",active:"Navbar_active__3mbhk"}},161:function(e,t,n){},171:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},197:function(e,t,n){},297:function(e,t,n){},298:function(e,t,n){"use strict";n.r(t);var r=n(25),a=n(26),i=n(28),s=n(27),c=(n(161),n(16)),o=n.n(c),u=n(13),l=n(0),j=function(){return Object(l.jsxs)("nav",{className:o.a.nav,children:[Object(l.jsx)("div",{className:o.a.item,children:Object(l.jsx)(u.b,{to:"/profile",activeClassName:o.a.active,children:"Profile"})}),Object(l.jsx)("div",{className:o.a.item,children:Object(l.jsx)(u.b,{to:"/dialogs",activeClassName:o.a.active,children:"Messages"})}),Object(l.jsx)("div",{className:o.a.item,children:Object(l.jsx)(u.b,{to:"/users",activeClassName:o.a.active,children:"Users"})}),Object(l.jsx)("div",{className:o.a.item,children:Object(l.jsx)(u.b,{to:"/news",activeClassName:o.a.active,children:"News"})}),Object(l.jsx)("div",{className:o.a.item,children:Object(l.jsx)(u.b,{to:"/music",activeClassName:o.a.active,children:"Music"})}),Object(l.jsx)("div",{className:o.a.item,children:Object(l.jsx)(u.b,{to:"/settings",activeClassName:o.a.active,children:"Settings"})})]})},d=n(11),f=(n(171),function(e){return Object(l.jsx)("div",{children:"Settings"})}),p=(n(172),function(e){return Object(l.jsx)("div",{children:"Music"})}),b=(n(173),function(e){var t=[2,3,4,5],n=function(e){return e.map((function(e){return 3*e}))},r=function(e){return e.map((function(e){return e+" "}))};return n(t),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"News"}),"Old array: ",r(t),Object(l.jsx)("br",{}),"New array *3: ",r(n(t))]})}),h=n(1),O=n.n(h),g=n(54),m=n(87),x=n.n(m),v=function(e){for(var t=e.totalItemsCount,n=e.pageSize,r=e.currentPage,a=e.changePage,i=e.portionSize,s=Math.ceil(t/n),c=[],o=1;o<=s;o++)c.push(o);var u=Math.ceil(s/i),j=Object(h.useState)(1),d=Object(g.a)(j,2),f=d[0],p=d[1],b=(f-1)*i+1,O=f*i;return Object(l.jsxs)("div",{className:x.a.pagination,children:[f>1&&Object(l.jsx)("button",{onClick:function(){p(f-1)},children:"left"}),c.filter((function(e){return e>=b&&e<=O})).map((function(e){return Object(l.jsx)("span",{className:r===e&&x.a.active,onClick:function(){return a(e)},children:e},e)})),u>f&&Object(l.jsx)("button",{onClick:function(){p(f+1)},children:"right"})]})},P=n(128),w=n.n(P),S=n.p+"static/media/avatarka.09bf7bc7.jpg",y=function(e){var t=e.user,n=e.followingInProgress,r=e.follow,a=e.unfollow;return Object(l.jsxs)("div",{children:[Object(l.jsxs)("span",{children:[Object(l.jsx)(u.b,{to:"./profile/"+t.id,children:Object(l.jsx)("div",{children:Object(l.jsx)("img",{src:null!=t.photos.small?t.photos.small:S,className:w.a.userPhoto})})}),Object(l.jsx)("div",{children:t.followed?Object(l.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)},children:"Unfollow"}):Object(l.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Follow"})})]}),Object(l.jsxs)("span",{children:[Object(l.jsxs)("span",{children:[Object(l.jsx)("div",{children:t.name}),Object(l.jsx)("div",{children:t.status})]}),Object(l.jsxs)("span",{children:[Object(l.jsx)("div",{children:"u.location.country"}),Object(l.jsx)("div",{children:"u.location.city"})]})]})]})},C=function(e){return Object(l.jsxs)("div",{children:[Object(l.jsx)(v,{currentPage:e.currentPage,changePage:e.changePage,pageSize:e.pageSize,totalItemsCount:e.totalCount,portionSize:10}),Object(l.jsx)("div",{children:e.users.map((function(t){return Object(l.jsx)(y,{user:t,followingInProgress:e.followingInProgress,follow:e.follow,unfollow:e.unfollow})}))})]})},N=n(12),A=n(10),k=n.n(A),I=n(20),E=n(42),D=n(5),Q=n(130).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"4e136dca-4dec-4506-a5ef-61efe2ea4b48"}}),X={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return Q.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return Q.post("follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return Q.delete("follow/".concat(e)).then((function(e){return e.data}))},getProfileData:function(e){return console.warn("Obsolete method. Please use profileAPI object"),z.getProfileData(e)}},z={getProfileData:function(e){return Q.get("profile/".concat(e))},getProfileStatus:function(e){return Q.get("profile/status/".concat(e))},updateProfileStatus:function(e){return Q.put("profile/status ",{status:e})}},M=function(){return Q.get("auth/me")},B=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Q.post("auth/login",{email:e,password:t,rememberMe:n})},F=function(){return Q.delete("/auth/login")},U="FOLLOW",Y="UNFOLLOW",Z="SET_USERS",H="SET_TOTAL",_="SET_CURRENT_PAGE",L="SHOW_PRELOADER",R="TOGGLE_FOLLOWING_IN_PROGRESS",W={users:[],currentPage:1,pageSize:5,totalCount:0,isFetching:!1,followingInProgress:[]},J=function(e){return{type:U,userId:e}},V=function(e){return{type:Y,userId:e}},T=function(e){return{type:L,preloaderToggle:e}},G=function(e,t){return{type:R,isFetching:e,userId:t}},q=function(){var e=Object(I.a)(k.a.mark((function e(t,n,r,a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(G(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(a(n)),t(G(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(D.a)(Object(D.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(D.a)(Object(D.a)({},e),{},{followed:!0}):e}))});case Y:return Object(D.a)(Object(D.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(D.a)(Object(D.a)({},e),{},{followed:!1}):e}))});case Z:return Object(D.a)(Object(D.a)({},e),{},{users:t.users});case H:return Object(D.a)(Object(D.a)({},e),{},{totalCount:t.totalCount});case _:return Object(D.a)(Object(D.a)({},e),{},{currentPage:t.currentPage});case L:return Object(D.a)(Object(D.a)({},e),{},{isFetching:t.preloaderToggle});case R:return Object(D.a)(Object(D.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(E.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},$=n.p+"static/media/preloader.f5748b97.gif",ee=n(131),te=n.n(ee),ne=function(){return Object(l.jsx)("div",{className:te.a.preloader,children:Object(l.jsx)("img",{src:$,alt:"preloader"})})},re=n(103),ae=n(9),ie=n(132),se=Object(ie.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),ce=function(e){return e.usersPage.pageSize},oe=function(e){return e.usersPage.totalCount},ue=function(e){return e.usersPage.currentPage},le=function(e){return e.usersPage.isFetching},je=function(e){return e.usersPage.followingInProgress},de=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).changePage=function(e){a.props.setCurrentPage(e),a.props.getUsers(e,a.props.pageSize)},a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(l.jsxs)(l.Fragment,{children:[!0===this.props.isFetching?Object(l.jsx)(ne,{}):null,Object(l.jsx)(C,{changePage:this.changePage,totalCount:this.props.totalCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,followingInProgress:this.props.followingInProgress})]})}}]),n}(O.a.Component),fe=Object(ae.d)(Object(N.b)((function(e){return{users:se(e),totalCount:oe(e),pageSize:ce(e),currentPage:ue(e),isFetching:le(e),followingInProgress:je(e)}}),{follow:function(e){return function(){var t=Object(I.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:q(n,e,X.follow.bind(X),J);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(I.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:q(n,e,X.unfollow.bind(X),V);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:function(e){return{type:_,currentPage:e}},getUsers:function(e,t){return function(){var n=Object(I.a)(k.a.mark((function n(r){var a;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(T(!0)),n.next=3,X.getUsers(e,t);case 3:a=n.sent,r(T(!1)),r((s=a.items,{type:Z,users:s})),r((i=a.totalCount,{type:H,totalCount:i}));case 7:case"end":return n.stop()}var i,s}),n)})));return function(e){return n.apply(this,arguments)}}()}}),re.a)(de),pe=(n(197),n(66)),be=n.n(pe),he=function(e){var t=Object(h.useState)(!1),n=Object(g.a)(t,2),r=n[0],a=n[1],i=Object(h.useState)(e.status),s=Object(g.a)(i,2),c=s[0],o=s[1];Object(h.useEffect)((function(){o(e.status)}),[e.status]);return Object(l.jsxs)("div",{children:[!r&&Object(l.jsx)("div",{children:Object(l.jsx)("p",{onClick:function(){a(!0)},children:e.status||"-----"})}),r&&Object(l.jsx)("div",{children:Object(l.jsx)("input",{autoFocus:!0,onChange:function(e){o(e.currentTarget.value)},onBlur:function(){a(!1),e.updateProfileStatus(c)},value:c})})]})},Oe=function(e){var t=e.profileData,n=e.status,r=e.updateProfileStatus;return t?Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:be.a.descriptionBlock,children:Object(l.jsxs)("div",{className:be.a.profileData,children:[Object(l.jsx)("img",{src:t.photos.small,alt:"user avatar"}),Object(l.jsx)("h3",{children:t.fullName}),Object(l.jsx)(he,{status:n,updateProfileStatus:r}),Object(l.jsxs)("p",{children:[Object(l.jsx)("i",{children:"About Me"}),": ",t.aboutMe]})]})})}):Object(l.jsx)(ne,{})},ge=n(88),me=n.n(ge),xe=function(e){return Object(l.jsxs)("div",{className:me.a.item,children:[Object(l.jsx)("img",{src:"data:image/png;base64,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"}),e.message,Object(l.jsxs)("div",{className:me.a.like,children:["like: ",e.likesCounter]})]})},ve="ADD-POST",Pe="SET_PROFILE_DATA",we="SET_PROFILE_STATUS",Se={posts:[{id:1,message:"Hello World!",likesCounter:321},{id:2,message:"0101101110",likesCounter:18}],profileData:null,profileStatus:""},ye=function(e){return{type:we,status:e}},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:var n={id:3,message:t.text,likesCounter:0};return Object(D.a)(Object(D.a)({},e),{},{posts:[].concat(Object(E.a)(e.posts),[n])});case Pe:return Object(D.a)(Object(D.a)({},e),{},{profileData:t.profileData});case we:return Object(D.a)(Object(D.a)({},e),{},{profileStatus:t.status});default:return e}},Ne=n(89),Ae=n.n(Ne),ke=n(125),Ie=n(126),Ee=n(38),De=n(47),Qe=Object(Ee.a)(10),Xe=Object(Ie.a)({form:"newPost"})((function(e){return Object(l.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(l.jsx)("div",{children:Object(l.jsx)(ke.a,{component:De.b,name:"newPost",placeholder:"What do you think?",validate:[Ee.b,Qe]})}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{children:"Add Post"})})]})})),ze=function(e){var t=e.posts.map((function(e){return Object(l.jsx)(xe,{message:e.message,likesCounter:e.likesCounter})}));return Object(l.jsxs)("div",{className:Ae.a.postsBlock,children:[Object(l.jsx)("h3",{children:"My Posts"}),Object(l.jsx)(Xe,{onSubmit:function(t){e.addPost(t.newPost)}}),Object(l.jsx)("div",{className:Ae.a.posts,children:t})]})},Me=Object(N.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:function(e){return{type:ve,text:e}}})(ze),Be=function(e){return Object(l.jsxs)("div",{children:[Object(l.jsx)(Oe,{profileData:e.profileData,status:e.status,updateProfileStatus:e.updateProfileStatus}),Object(l.jsx)(Me,{})]})},Fe=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userId)||this.props.history.push("/login"),this.props.getProfileData(e),this.props.getProfileStatus(e)}},{key:"render",value:function(){return Object(l.jsx)(Be,Object(D.a)(Object(D.a)({},this.props),{},{profileData:this.props.profileData,updateProfileStatus:this.props.updateProfileStatus}))}}]),n}(O.a.Component),Ue=Object(ae.d)(Object(N.b)((function(e){return{profileData:e.profilePage.profileData,status:e.profilePage.profileStatus,userId:e.auth.userId,isAuth:e.auth.isAuth}}),{getProfileData:function(e){return function(){var t=Object(I.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.getProfileData(e);case 2:r=t.sent,n((a=r.data,{type:Pe,profileData:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},getProfileStatus:function(e){return function(){var t=Object(I.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.getProfileStatus(e);case 2:r=t.sent,n(ye(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateProfileStatus:function(e){return function(){var t=Object(I.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.updateProfileStatus(e);case 2:0===t.sent.data.resultCode&&n(ye(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),d.f)(Fe),Ye=n(93),Ze=n.n(Ye),He=function(e){return Object(l.jsxs)("header",{className:Ze.a.header,children:[Object(l.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Facebook_Logo_%282019%29.png/1200px-Facebook_Logo_%282019%29.png"}),Object(l.jsx)("div",{className:Ze.a.loginBlock,children:e.isAuth?Object(l.jsxs)("div",{children:[e.login," - ",Object(l.jsx)("button",{onClick:e.logout,children:"Log out"})]}):Object(l.jsx)(u.b,{to:"/login",children:"Login"})})]})},_e=n(45),Le="auth/SET_USER_DATA",Re={userId:null,email:null,login:null,isAuth:!1},We=function(e,t,n,r){return{type:Le,payload:{userId:e,email:t,login:n,isAuth:r}}},Je=function(){return function(){var e=Object(I.a)(k.a.mark((function e(t){var n,r,a,i,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,a=r.id,i=r.login,s=r.email,t(We(a,s,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return Object(D.a)(Object(D.a)({},e),t.payload);default:return e}},Te=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(l.jsx)(He,Object(D.a)({},this.props))}}]),n}(O.a.Component),Ge=Object(N.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(I.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:0===e.sent.data.resultCode&&t(We(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Te),qe=n(36),Ke=n.n(qe),$e=Object(Ie.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(l.jsxs)("form",{onSubmit:t,children:[Object(l.jsx)("div",{children:Object(l.jsx)(ke.a,{placeholder:"E-mail",name:"email",component:De.a,validate:[Ee.b]})}),Object(l.jsx)("div",{children:Object(l.jsx)(ke.a,{type:"password",placeholder:"Password",name:"password",component:De.a,validate:[Ee.b]})}),Object(l.jsxs)("div",{children:[Object(l.jsx)(ke.a,{type:"checkbox",name:"rememberMe",component:"input"})," remember me"]}),n&&Object(l.jsxs)("div",{className:Ke.a.formSummaryError,children:[" ",n]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{children:"Login"})})]})})),et=Object(N.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var r=Object(I.a)(k.a.mark((function r(a){var i,s,c;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,B(e,t,n);case 2:0===(i=r.sent).data.resultCode?a(Je()):(s=i.data.messages.length>0?i.data.messages[0]:"Some error appeared",c=Object(_e.a)("login",{_error:s}),a(c));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(l.jsx)(d.a,{to:"/profile"}):Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Login"}),Object(l.jsx)($e,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})]})})),tt="INITIALIZED_SUCCESS",nt={initialized:!1},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tt:return Object(D.a)(Object(D.a)({},e),{},{initialized:!0});default:return e}},at=n(124),it={},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it;return e},ct=n(135),ot=n(127),ut=Object(ae.c)({profilePage:Ce,dialogsPage:at.a,sidebar:st,usersPage:K,auth:Ve,form:ot.a,app:rt}),lt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ae.d,jt=Object(ae.e)(ut,lt(Object(ae.a)(ct.a))),dt=O.a.lazy((function(){return n.e(3).then(n.bind(null,301))})),ft=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(l.jsxs)("div",{className:"app-wrapper",children:[Object(l.jsx)(Ge,{}),Object(l.jsx)(j,{}),Object(l.jsxs)("div",{className:"app-wrapper-content",children:[Object(l.jsx)(d.b,{path:"/profile/:userId?",render:function(){return Object(l.jsx)(Ue,{})}}),Object(l.jsx)(d.b,{path:"/dialogs",render:function(){return Object(l.jsx)(h.Suspense,{fallback:Object(l.jsx)(ne,{}),children:Object(l.jsx)(dt,{})})}}),Object(l.jsx)(d.b,{path:"/users",render:function(){return Object(l.jsx)(fe,{})}}),Object(l.jsx)(d.b,{path:"/news",component:b}),Object(l.jsx)(d.b,{path:"/music",component:p}),Object(l.jsx)(d.b,{path:"/settings",component:f}),Object(l.jsx)(d.b,{path:"/login",component:et})]})]}):Object(l.jsx)(ne,{})}}]),n}(h.Component),pt=Object(N.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Je());Promise.all([t]).then((function(){e({type:tt})}))}}})(ft),bt=function(){return Object(l.jsx)(O.a.StrictMode,{children:Object(l.jsx)(u.a,{children:Object(l.jsx)(N.a,{store:jt,children:Object(l.jsx)(pt,{})})})})},ht=n(63),Ot=n.n(ht),gt=(n(297),function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,300)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),i(e),s(e)}))});Ot.a.render(Object(l.jsx)(bt,{}),document.getElementById("root")),gt()},36:function(e,t,n){e.exports={formControl:"FormsControls_formControl__3oI2W",error:"FormsControls_error__9lcue",formSummaryError:"FormsControls_formSummaryError__1F2-S"}},38:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){return e?void 0:"Field is required"},a=function(e){return function(t){return t.length>e?"Max length is ".concat(e," symbols"):void 0}}},47:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return j}));var r=n(5),a=n(90),i=n(36),s=n.n(i),c=n(0),o=["input","meta"],u=["input","meta"],l=function(e){var t=e.input,n=e.meta,i=Object(a.a)(e,o),u=n.touched&&n.error;return Object(c.jsxs)("div",{className:s.a.formControl+" "+(u?s.a.error:" "),children:[Object(c.jsx)("textarea",Object(r.a)(Object(r.a)({},t),i)),u&&Object(c.jsx)("span",{children:n.error})]})},j=function(e){var t=e.input,n=e.meta,i=Object(a.a)(e,u),o=n.touched&&n.error;return Object(c.jsxs)("div",{className:s.a.formControl+" "+(o?s.a.error:" "),children:[Object(c.jsx)("input",Object(r.a)(Object(r.a)({},t),i)),o&&Object(c.jsx)("span",{children:n.error})]})}},66:function(e,t,n){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3cd8Y",profileData:"ProfileInfo_profileData__18agI"}},87:function(e,t,n){e.exports={pagination:"Paginator_pagination__1asUZ",active:"Paginator_active__3mj3D"}},88:function(e,t,n){e.exports={item:"Post_item__ihtu9",like:"Post_like__oViQh"}},89:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__2ifKf",posts:"MyPosts_posts__3tZ1c"}},93:function(e,t,n){e.exports={header:"Header_header__1VCKf",loginBlock:"Header_loginBlock__6mma5"}}},[[298,1,2]]]);
//# sourceMappingURL=main.5d4b7d13.chunk.js.map
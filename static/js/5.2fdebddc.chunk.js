(this["webpackJsonpreact-1"]=this["webpackJsonpreact-1"]||[]).push([[5],{411:function(e,t,c){"use strict";c.r(t);var n=c(25),s=c(3),a=c(412),r=c(399),j=c(400),i=c(415),b=c(413),u=c(395),d=c(393),o=c(416),O=c(0),l=c(1),h=a.a.TextArea,x=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),f=function(){return Object(l.jsxs)(i.b,{direction:"vertical",style:{width:"100%"},children:[Object(l.jsx)(p,{}),Object(l.jsx)(g,{})]})},p=function(){var e=Object(O.useState)([]),t=Object(s.a)(e,2),c=t[0],a=t[1];return Object(O.useEffect)((function(){x.addEventListener("message",(function(e){var t=JSON.parse(e.data);a((function(e){return[].concat(Object(n.a)(e),Object(n.a)(t))}))}))}),[]),Object(l.jsx)("div",{style:{height:"calc(100vh - 250px)",overflowY:"auto"},children:c.map((function(e,t){return Object(l.jsx)(v,{message:e},t)}))})},v=function(e){var t=e.message;return Object(l.jsxs)("div",{children:[Object(l.jsxs)(i.b,{children:[Object(l.jsx)(b.a,{size:"large",src:t.photo}),Object(l.jsx)("b",{children:t.userName})]}),Object(l.jsx)("div",{children:Object(l.jsx)("p",{children:t.message})}),Object(l.jsx)(u.a,{})]})},g=function(){var e=Object(O.useState)(""),t=Object(s.a)(e,2),c=t[0],n=t[1],a=Object(O.useState)("pending"),i=Object(s.a)(a,2),b=i[0],u=i[1];Object(O.useEffect)((function(){x.addEventListener("open",(function(){u("ready")}))}),[]);return Object(l.jsxs)(r.a,{justify:"space-between",children:[Object(l.jsx)(j.a,{span:19,children:Object(l.jsx)(h,{onChange:function(e){return n(e.currentTarget.value)},value:c})}),Object(l.jsx)(j.a,{span:4,children:Object(l.jsxs)(d.a,{disabled:"ready"!==b,type:"primary",onClick:function(){c&&(x.send(c),n(""))},children:[Object(l.jsx)(o.a,{})," Send"]})})]})};t.default=function(){return Object(l.jsx)(r.a,{justify:"center",style:{height:"calc(100vh - 188px)",overflowY:"auto"},children:Object(l.jsx)(j.a,{span:12,children:Object(l.jsx)(f,{})})})}}}]);
//# sourceMappingURL=5.2fdebddc.chunk.js.map